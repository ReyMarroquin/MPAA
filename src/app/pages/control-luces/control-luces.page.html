<ion-header>
  <ion-toolbar>
    <ion-title>Control de Luces</ion-title>
  </ion-toolbar>
</ion-header>

<!-- Menú lateral -->
<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>MPA</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
    <ion-list>
      <ion-menu-toggle autoHide="false">
        <ion-item routerLink="/dashboard">🏠 Dashboard</ion-item>
        <ion-item routerLink="/sensores">📊 Sensores</ion-item>
        <ion-item routerLink="/historial">📜 Historial</ion-item>

        <!-- Sección de administración desplegable -->
        <ion-item (click)="toggleAdminMenu()">
          🛠 Administración
          <ion-icon slot="end" name="{{ adminExpanded ? 'chevron-up' : 'chevron-down' }}"></ion-icon>
        </ion-item>
        <div *ngIf="adminExpanded">
          <ion-item *ngIf="isAdmin" routerLink="/control-luces">💡 Control de Luces</ion-item>
          <ion-item *ngIf="isAdmin" routerLink="/control-luces">💡 Control de Puertas</ion-item>
          <ion-item *ngIf="isAdmin" routerLink="/control-luces">💡 Control de Elevador</ion-item>
          <ion-item routerLink="/configuracion">⚙️ Configuración</ion-item>
        </div>

        <ion-item (click)="logout()">🚪 Cerrar sesión</ion-item>
      </ion-menu-toggle>
    </ion-list>
  </ion-content>
</ion-menu>

<!-- Contenido principal -->
<div id="main-content">
  <router-outlet></router-outlet>
</div>


<!-- Contenido principal -->
<div id="main-content">
<router-outlet></router-outlet>
</div>


<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Edificio Principal</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-button (click)="toggleLuz(1)" color="{{ luces[1] ? 'success' : 'danger' }}">
        {{ luces[1] ? 'Apagar' : 'Encender' }} Luces
      </ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Edificio Secundario</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-button (click)="toggleLuz(2)" color="{{ luces[2] ? 'success' : 'danger' }}">
        {{ luces[2] ? 'Apagar' : 'Encender' }} Luces
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>
