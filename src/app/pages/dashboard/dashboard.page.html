<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Dashboard</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
 <!-- Contenedor principal que se muestra en horizontal -->
  <div class="sensor-container">
    <!-- Sensores existentes (se mantienen igual) -->
    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="thermometer"></ion-icon>
            <span>Temperatura</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getTemperatureColor(temperatura), 
                  'width': getTemperatureWidth(temperatura) + '%'
               }">
          </div>
          <div class="sensor-value">{{ temperatura }}°C</div>
        </ion-card-content>
      </ion-card>      
    </div>

    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="cloud"></ion-icon>
            <span>Calidad del aire</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getAirQualityColor(calidadAire), 
                  'width': getAirQualityWidth(calidadAire) + '%'
               }">
          </div>
          <div class="sensor-value">{{ calidadAire }}</div>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="megaphone"></ion-icon>
            <span>Nivel de ruido</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getNoiseLevelColor(ruido), 
                  'width': getNoiseLevelWidth(ruido) + '%'
               }">
          </div>
          <div class="sensor-value">{{ ruido }} dB</div>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="water"></ion-icon>
            <span>Humedad</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getHumidityColor(humedad), 
                  'width': getHumidityWidth(humedad) + '%'
               }">
          </div>
          <div class="sensor-value">{{ humedad }}%</div>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="rainy"></ion-icon>
            <span>Calidad del agua</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getWaterQualityColor(calidadAgua), 
                  'width': getWaterQualityWidth(calidadAgua) + '%'
               }">
          </div>
          <div class="sensor-value">{{ calidadAgua }}</div>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="water"></ion-icon>
            <span>CO2</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getCO2LevelColor(co2), 
                  'width': getCO2LevelWidth(co2) + '%'
               }">
          </div>
          <div class="sensor-value">{{ co2 }} ppm</div>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="flashlight"></ion-icon>
            <span>Intensidad de luz</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getLightIntensityColor(luz), 
                  'width': getLightIntensityWidth(luz) + '%'
               }">
          </div>
          <div class="sensor-value">{{ luz }} lux</div>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Nuevos sensores agregados -->
    
    <!-- Monóxido de Carbono (CO) -->
    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="skull"></ion-icon>
            <span>Monóxido Carbono</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getCOLevelColor(monoxidoCarbono), 
                  'width': getCOLevelWidth(monoxidoCarbono) + '%'
               }">
          </div>
          <div class="sensor-value">{{ monoxidoCarbono }} ppm</div>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Gas Metano (CH4) -->
    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="warning"></ion-icon>
            <span>Gas Metano</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getMethaneColor(gasMetano), 
                  'width': getMethaneWidth(gasMetano) + '%'
               }">
          </div>
          <div class="sensor-value">{{ gasMetano }} ppm</div>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Vibración -->
    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="pulse"></ion-icon>
            <span>Vibración</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getVibrationColor(vibracion), 
                  'width': getVibrationWidth(vibracion) + '%'
               }">
          </div>
          <div class="sensor-value">{{ vibracion }} / 10</div>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Proximidad -->
    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="move"></ion-icon>
            <span>Proximidad</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-bar" 
               [ngStyle]="{
                  'background-color': getProximityColor(proximidad), 
                  'width': getProximityWidth(proximidad) + '%'
               }">
          </div>
          <div class="sensor-value">{{ proximidad }} cm</div>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- RFID -->
    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon name="card"></ion-icon>
            <span>RFID</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-value" [style.color]="rfid !== 'No detectado' ? 'green' : 'red'">
            {{ rfid }}
          </div>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Llama/Fuego -->
    <div class="sensor-item">
      <ion-card>
        <ion-card-header>
          <div class="temp">
            <ion-icon [name]="getFlameIcon(llama)" [color]="getFlameColor(llama)"></ion-icon>
            <span>Detección de llama</span> 
          </div>
        </ion-card-header>
        <ion-card-content>
          <div class="sensor-value" [style.color]="getFlameColor(llama)">
            {{ llama ? '¡LLAMA DETECTADA!' : 'No hay llama' }}
          </div>
        </ion-card-content>
      </ion-card>
    </div>
  </div>

</ion-content>
<ion-footer>
  <ion-tab-bar slot="fixed">
    <ion-tab-button [routerLink]="['/dashboard']">
      <ion-icon name="home" style="color:white"></ion-icon>
      <ion-label>Dashboard</ion-label>
    </ion-tab-button>
    <ion-tab-button [routerLink]="['/vista']">
      <ion-icon name="bulb" style="color:white"></ion-icon>
      <ion-label>Vista General</ion-label>
    </ion-tab-button>
    <ion-tab-button [routerLink]="['/historial']">
      <ion-icon name="list" style="color:white"></ion-icon>
      <ion-label>Historial</ion-label>
    </ion-tab-button>
  </ion-tab-bar>
</ion-footer>
