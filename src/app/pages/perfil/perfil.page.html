<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button style="color:white"></ion-menu-button>
    </ion-buttons>
    <ion-title>{{'MENU_PROFILE' | translate}}</ion-title>
  </ion-toolbar>
</ion-header>
<style>
  p {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 14px;
}
</style>

<ion-content class="ion-padding">
  <div class="profile-container">
    <!-- Perfil del usuario -->
    <ion-card class="profile-card">
      <div class="card-glassmorphism">
        <ion-card-header>
          <div class="icon-container admin-bg">
            <ion-icon name="person-circle-outline"></ion-icon>
          </div>
          <div class="user-info">
            <ion-card-title>{{ username }}</ion-card-title> <!-- Nombre del usuario -->
            <p class="user-type admin">{{ tipoUsuario }}</p> <!-- Tipo de usuario -->
            <p><ion-icon name="mail" class="email" style="color:#247E3E;"></ion-icon>{{correoElectronico}}</p>
          </div>
        </ion-card-header>
        <ion-card-content>
          <!-- Botones de Cerrar Sesión y Editar Perfil -->
          <ion-button  class="edit" (click)="abrirModal()">{{'EDITAR_PERFIL' | translate}}</ion-button>
          <ion-button  class="logout" (click)="logout()">{{'MENU_LOGOUT' | translate}}</ion-button>
        </ion-card-content>
      </div>
    </ion-card>
  </div>

  <!-- Modal para editar el perfil -->
  <ion-modal [isOpen]="modalOpen" (willDismiss)="cerrarModal()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>{{'EDITAR_PERFIL' | translate}}</ion-title>
          
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <form (submit)="guardarCambios()" class="">
          <ion-item>
            <!-- Traducción de "Nombre de Usuario" -->
            <ion-label position="floating" class="label-white">{{ 'NOMBRE_USUARIO' | translate }}</ion-label>
            <ion-input [(ngModel)]="nuevoNombreUsuario" required></ion-input>
          </ion-item>
      
          <ion-item>
            <!-- Traducción de "Nueva Contraseña" -->
            <ion-label position="floating" class="label-white">{{ 'NUEVA_CONTRASENA' | translate }}</ion-label>
            <ion-input type="password" [(ngModel)]="nuevaContrasena"></ion-input>
          </ion-item>
      
          <!-- Traducción del botón "Guardar Cambios" -->
          <ion-button type="submit" class="gc" >{{ 'GUARDAR_CAMBIOS' | translate }}</ion-button>
          
          <!-- Traducción del botón "Cerrar" -->
          <ion-button (click)="cerrarModal()"  class="close" >{{ 'CERRAR' | translate }}</ion-button>
        </form>
      </ion-content>
      
    </ng-template>
  </ion-modal>
</ion-content>
<ion-footer>
  <p class="footer-text">{{'FOOTER_TEXT'| translate}}</p>
</ion-footer>
